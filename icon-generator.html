<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∫–æ–Ω–æ–∫ –¥–ª—è PWA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            padding: 40px 20px;
            text-align: center;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2196F3;
            margin-bottom: 10px;
        }

        p {
            color: #757575;
            margin-bottom: 30px;
        }

        .controls {
            margin-bottom: 40px;
        }

        .control-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        input[type="text"],
        input[type="color"],
        select {
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 5px;
            width: 100%;
            max-width: 300px;
        }

        input[type="color"] {
            height: 50px;
            cursor: pointer;
        }

        .icons-display {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 40px;
        }

        .icon-box {
            text-align: center;
        }

        .icon-box h3 {
            margin-bottom: 15px;
            color: #333;
        }

        canvas {
            border: 2px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }

        canvas:hover {
            transform: scale(1.05);
        }

        .download-btn {
            display: inline-block;
            margin-top: 15px;
            padding: 12px 24px;
            background: #2196F3;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background 0.3s;
        }

        .download-btn:hover {
            background: #1976D2;
        }

        .instructions {
            margin-top: 40px;
            padding: 20px;
            background: #f9f9f9;
            border-left: 4px solid #2196F3;
            text-align: left;
        }

        .instructions h3 {
            margin-bottom: 10px;
            color: #2196F3;
        }

        .instructions ol {
            margin-left: 20px;
        }

        .instructions li {
            margin-bottom: 8px;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∫–æ–Ω–æ–∫ –¥–ª—è PWA</h1>
        <p>–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –ü—Ä–∞–π—Å –ß–µ–∫–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>

        <div class="controls">
            <div class="control-group">
                <label for="icon-text">–¢–µ–∫—Å—Ç –Ω–∞ –∏–∫–æ–Ω–∫–µ (1-2 —Å–∏–º–≤–æ–ª–∞):</label>
                <input type="text" id="icon-text" value="üí∞" maxlength="2">
            </div>

            <div class="control-group">
                <label for="bg-color">–¶–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
                <input type="color" id="bg-color" value="#2196F3">
            </div>

            <div class="control-group">
                <label for="text-color">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
                <input type="color" id="text-color" value="#ffffff">
            </div>

            <div class="control-group">
                <label for="icon-style">–°—Ç–∏–ª—å:</label>
                <select id="icon-style">
                    <option value="flat">–ü–ª–æ—Å–∫–∏–π</option>
                    <option value="gradient">–ì—Ä–∞–¥–∏–µ–Ω—Ç</option>
                    <option value="circle">–ö—Ä—É–≥</option>
                </select>
            </div>
        </div>

        <div class="icons-display">
            <div class="icon-box">
                <h3>192x192 –ø–∏–∫—Å–µ–ª–µ–π</h3>
                <canvas id="icon-192" width="192" height="192"></canvas>
                <br>
                <a href="#" class="download-btn" id="download-192">–°–∫–∞—á–∞—Ç—å 192x192</a>
            </div>

            <div class="icon-box">
                <h3>512x512 –ø–∏–∫—Å–µ–ª–µ–π</h3>
                <canvas id="icon-512" width="512" height="512"></canvas>
                <br>
                <a href="#" class="download-btn" id="download-512">–°–∫–∞—á–∞—Ç—å 512x512</a>
            </div>
        </div>

        <div class="instructions">
            <h3>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
            <ol>
                <li>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∫–æ–Ω–∫–∏ –≤—ã—à–µ (—Ç–µ–∫—Å—Ç, —Ü–≤–µ—Ç–∞, —Å—Ç–∏–ª—å)</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å 192x192" –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ <code>icon-192.png</code></li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å 512x512" –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ <code>icon-512.png</code></li>
                <li>–ü–æ–º–µ—Å—Ç–∏—Ç–µ –æ–±–∞ —Ñ–∞–π–ª–∞ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º</li>
                <li>–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å PWA –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à–∏ –∏–∫–æ–Ω–∫–∏</li>
            </ol>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        const iconText = document.getElementById('icon-text');
        const bgColor = document.getElementById('bg-color');
        const textColor = document.getElementById('text-color');
        const iconStyle = document.getElementById('icon-style');

        // Canvas —ç–ª–µ–º–µ–Ω—Ç—ã
        const canvas192 = document.getElementById('icon-192');
        const canvas512 = document.getElementById('icon-512');
        const ctx192 = canvas192.getContext('2d');
        const ctx512 = canvas512.getContext('2d');

        // –ö–Ω–æ–ø–∫–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
        const download192 = document.getElementById('download-192');
        const download512 = document.getElementById('download-512');

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–∫–æ–Ω–∫–∏
        function drawIcon(canvas, ctx, size) {
            const text = iconText.value || 'üí∞';
            const bg = bgColor.value;
            const fg = textColor.value;
            const style = iconStyle.value;

            // –û—á–∏—Å—Ç–∫–∞ canvas
            ctx.clearRect(0, 0, size, size);

            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ñ–æ–Ω–∞
            if (style === 'gradient') {
                const gradient = ctx.createLinearGradient(0, 0, size, size);
                gradient.addColorStop(0, bg);
                gradient.addColorStop(1, adjustBrightness(bg, -30));
                ctx.fillStyle = gradient;
            } else {
                ctx.fillStyle = bg;
            }

            if (style === 'circle') {
                ctx.beginPath();
                ctx.arc(size / 2, size / 2, size / 2, 0, Math.PI * 2);
                ctx.fill();
            } else {
                ctx.fillRect(0, 0, size, size);
            }

            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞
            ctx.fillStyle = fg;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            // –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª–µ–Ω —Ä–∞–∑–º–µ—Ä—É –∏–∫–æ–Ω–∫–∏
            const fontSize = size * 0.5;
            ctx.font = `bold ${fontSize}px Arial, sans-serif`;

            ctx.fillText(text, size / 2, size / 2);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç–∏ —Ü–≤–µ—Ç–∞
        function adjustBrightness(color, amount) {
            const num = parseInt(color.replace('#', ''), 16);
            const r = Math.max(0, Math.min(255, (num >> 16) + amount));
            const g = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amount));
            const b = Math.max(0, Math.min(255, (num & 0x0000FF) + amount));
            return '#' + ((r << 16) | (g << 8) | b).toString(16).padStart(6, '0');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫
        function updateIcons() {
            drawIcon(canvas192, ctx192, 192);
            drawIcon(canvas512, ctx512, 512);
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        iconText.addEventListener('input', updateIcons);
        bgColor.addEventListener('input', updateIcons);
        textColor.addEventListener('input', updateIcons);
        iconStyle.addEventListener('change', updateIcons);

        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫
        download192.addEventListener('click', (e) => {
            e.preventDefault();
            const link = document.createElement('a');
            link.download = 'icon-192.png';
            link.href = canvas192.toDataURL();
            link.click();
        });

        download512.addEventListener('click', (e) => {
            e.preventDefault();
            const link = document.createElement('a');
            link.download = 'icon-512.png';
            link.href = canvas512.toDataURL();
            link.click();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateIcons();
    </script>
</body>
</html>
